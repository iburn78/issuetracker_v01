{% extends "blog/base.html" %}
{% block content %}
<article>  <!-- class="media content-section"> -->
	<div class="border-top border-warning"></div>
  <div class="media-body">
    <div class="article-metadata">
      <img class="rounded article-img mt-1 mb-0" src="{{ object.author.profile.image.url }}">
      <a class="mr-2" href="{% url 'user-posts' object.author.username %}">{{ object.author }}</a>
      <small class="text-muted">{{ object.date_posted|date:"M d, Y" }}</small>
	    {% if object.author == user %}
      <a class="btn btn-danger btn-sm mt-1 mb-1 float-right" href="{% url 'post-delete' object.id %}">Del</a>
        <a class="btn btn-secondary btn-sm mt-1 mb-1 mr-1 float-right" href="{% url 'post-update' object.id %}">Update</a>
	    {% endif %}
    </div>
  </div>
  <h4 class="article-title mt-2 mb-2">{{ object.title }}</h4>
  {% if object.image %}
		<div class="row">
      <img class="w-100 h-100 img-fluid" src="{{ object.image.url }}" alt = "Image for this post"> 
		</div>
  {% endif %}
	<div style="display:flex">
    {% for tag in object.tags.all %}
      <a href="{% url 'tagged-posts' tag.id %}" class="badge badge-info mt-1" >#{{ tag }}</a>
    {% endfor %}
	</div>
  <p class="article-content mt-2 mb-1">{{ object.content }}</p>
</article>
<p align = 'right'><small class="text-muted">-- issuetracker post</small><p>
<a class="btn btn-primary btn-sm mt-1 mb-1 float-right" href="{% url 'post-compact-list' %}">List</a>
<a class="btn btn-primary btn-sm mt-1 mb-1 mr-1 float-right" href="{% url 'blog-home' %}">Home</a>

<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

var disqus_config = function () {
this.page.url = "";  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = "{{request.path}}"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://issuetracker-kr.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                          

{% endblock content %}
